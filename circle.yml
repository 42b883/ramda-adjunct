general:
  branches:
    ignore:
      - gh-pages
  artifacts:
    - "docs"
    - "coverage"
    - "dist"

machine:
  node:
    version: 6.9.5
  environment:
    GH_NAME: char0n
    GH_EMAIL: vladimir.gorej@gmail.com
test:
  override:
    - npm run lint
    - npm run coverage

deployment:
  staging:
    branch: master
    commands:
      - npm run docs
      - npm run dist
      - chmod -R +x ./scripts
      - ./scripts/deploy-ghpages.sh docs/ramda-adjunct
      - ./node_modules/.bin/codecov
